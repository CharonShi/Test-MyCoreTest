<!DOCTYPE html>
<!-- saved from url=(0031)https://www.youzhan.org/page/9/ -->
<html lang="zh-CN">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>便捷图片仓</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!--网站图标-->
    <link rel="shortcut icon" href="https://www.youzhan.org/assets/img/favicon.png" type="image/png">
    <!-- Icons -->
    <!-- Argon CSS -->
    <link href="/bootstrap-3.3.7/css/bootstrap.min.css" rel="stylesheet" />
    <link type="text/css" href="/bootstrap-3.3.7/css/style.min.css" rel="stylesheet">
    <link href="/bootstrap-3.3.7/fileinput/css/fileinput.min.css" rel="stylesheet" />
    <script src="/js/jquery-3.5.1.min.js"></script>
    <script src="/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script src="/bootstrap-3.3.7/fileinput/js/fileinput.min.js"></script>
    <script src="/bootstrap-3.3.7/fileinput/js/locales/zh.js"></script>
    <script src="/js/BaseApi.js"></script>
</head>

<body>
    <style>
        .navbar {
            padding: 0;
            font-size: 18px;
            padding-top: 3px;
        }

        .navbar {
            position: relative;
            display: -ms-flexbox;
            display: flex;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            -ms-flex-align: center;
            align-items: center;
            -ms-flex-pack: justify;
            justify-content: space-between;
            padding: .5rem 1rem;
        }

        .navbar-expand-lg {
            -ms-flex-flow: row nowrap;
            flex-flow: row nowrap;
            -ms-flex-pack: start;
            justify-content: flex-start;
        }

        .navbar-brand {
            padding: 5px 20px;
            padding-left: 25px;
            text-align: center;
            transition: all 350ms cubic-bezier(0.215, 0.61, 0.355, 1);
            color: #00B4AC;
            display: flex;
            align-items: center;
        }

        .navbar-brand {
            display: inline-block;
            padding-top: .3125rem;
            padding-bottom: .3125rem;
            margin-right: 1rem;
            font-size: 1.25rem;
            line-height: inherit;
            white-space: nowrap;
        }

        a {
            color: #00B4AC;
        }

        a {
            color: #007bff;
            text-decoration: none;
            background-color: transparent;
            -webkit-text-decoration-skip: objects;
        }

        a {
            color: #00B4AC;
        }

        .navbar-toggler:not(:disabled):not(.disabled) {
            cursor: pointer;
        }

        .navbar-expand-lg .navbar-toggler {
            display: none;
        }

        [type=reset], [type=submit], button, html [type=button] {
            -webkit-appearance: button;
        }

        .navbar-toggler {
            padding: .25rem .75rem;
            font-size: 1.25rem;
            line-height: 1;
            background-color: transparent;
            border: 1px solid transparent;
            border-radius: .25rem;
        }

        button, select {
            text-transform: none;
        }

        button, input {
            overflow: visible;
        }

        button, input, optgroup, select, textarea {
            margin: 0;
            font-family: inherit;
            font-size: inherit;
            line-height: inherit;
        }

        .navbar-expand-lg .navbar-collapse {
            display: -ms-flexbox !important;
            display: flex !important;
            -ms-flex-preferred-size: auto;
            flex-basis: auto;
        }

        .navbar-collapse {
            -ms-flex-preferred-size: 100%;
            flex-basis: 100%;
            -ms-flex-positive: 1;
            flex-grow: 1;
            -ms-flex-align: center;
            align-items: center;
        }

        .navbar-brand img.logo {
            /*width: 160px;*/
            margin-right: 10px;
        }

        img {
            vertical-align: middle;
            border-style: none;
        }

        .navbar-toggler-icon {
            display: inline-block;
            width: 1.5em;
            height: 1.5em;
            vertical-align: middle;
            content: "";
            background: no-repeat center center;
            background-size: 100% 100%;
        }

        .btn:not(:disabled):not(.disabled) {
            cursor: pointer;
        }

        .btn-closemenu {
            position: absolute;
            right: 0;
            top: 0;
            padding: 20px 26px;
            color: rgba(38,44,51,0.4);
            display: none;
        }

        .btn {
            transition: all 0.2s linear;
            text-decoration: none;
            border: none;
            border-radius: 4px;
            padding: 16px 32px;
            font-size: 14px;
            line-height: 1em;
            font-weight: 600;
        }

        .btn {
            display: inline-block;
            font-weight: 400;
            text-align: center;
            white-space: nowrap;
            vertical-align: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            border: 1px solid transparent;
            padding: .375rem .75rem;
            font-size: 1rem;
            line-height: 1.5;
            border-radius: .25rem;
            transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
        }

        .navbar-expand-lg .navbar-nav {
            -ms-flex-direction: row;
            flex-direction: row;
        }

        .navbar-nav--center {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            justify-content: center;
            align-items: center;
            flex: 1 0 auto;
        }

        .navbar-nav--center {
            transition: all 350ms cubic-bezier(0.215, 0.61, 0.355, 1);
        }

        .navbar-nav {
            transition: all 350ms cubic-bezier(0.215, 0.61, 0.355, 1);
            padding: 0;
        }

        .navbar-nav {
            display: -ms-flexbox;
            display: flex;
            -ms-flex-direction: column;
            flex-direction: column;
            padding-left: 0;
            margin-bottom: 0;
            list-style: none;
        }

        .navbar-nav--right {
            position: absolute;
            right: 0;
        }

        .navbar-nav--right {
            padding-right: 25px;
            align-items: center;
        }

        .navbar-nav {
            transition: all 350ms cubic-bezier(0.215, 0.61, 0.355, 1);
            padding: 0;
        }

        .navbar-nav {
            display: -ms-flexbox;
            display: flex;
            -ms-flex-direction: column;
            flex-direction: column;
            padding-left: 0;
            margin-bottom: 0;
            list-style: none;
        }
    </style>
    <header class="header-global">
    </header>

    <main>
        <section class="section-shaped my-0 bg-center bg-cover h-120">


            <nav class="navbar navbar-expand-lg" style="width:1400px;margin: 0 auto;">
                <a class="navbar-brand" href="#">
                    <img class="logo" style="display:inline-block;" src="https://www.youzhan.org/assets/img/favicon.png" alt="logo">
                    <span>便捷图片仓</span>
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <a href="#" class="btn btn-closemenu">
                        <i class="gbicon-x"></i>
                    </a>

                    <ul class="navbar-nav navbar-nav--right">

                        <li class="nav-item" style="margin: 10px 0">
                            <img src="https://www.youzhan.org/assets/img/favicon.png" />
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" style="color:aliceblue;" href="#">
                                <span style="font-size: 15px; font-weight: 400;color: #fff;">爱吃鲸的虾</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- Circles background -->
            <div class="shape shape-style-1 shape-primary alpha-4">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
            <!-- SVG separator -->
            <div class="separator separator-bottom separator-skew z-0">
                <svg x="0" y="0" viewBox="0 0 2560 100" preserveAspectRatio="none" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <polygon class="fill-white" points="2560 0 2560 100 0 100"></polygon>
                </svg>
            </div>
        </section>
        <section class="section -mt-64">
            <div class="container container-lg">
                <div class="row" style="margin-bottom:40px;">

                    <div class="input-group" style="margin:0 auto;">
                        <input type="text" class="form-control shadow" style="width: 400px;height: 40px;opacity: 0.9;" placeholder="输入关键词...">
                        <span class="input-group-btn">
                            <button style="height: 40px;color: #fff;" class="btn" onclick="GetFile()">Go!</button>

                            <button style="height: 40px;margin-left:10px;color: #fff;" class="btn" data-toggle="modal" data-target="#myModal">上传图片</button>
                            <button style="height: 40px;margin-left:10px;color: #fff;" class="btn" onclick="DwonFile()">下载图片</button>
                        </span>
                    </div><!-- /input-group -->

                </div>
                <div class="row">




                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="https://www.newsteer.com/" title="Steer" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="https://www.attributionapp.com/" title="Attribution" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="http://yourblurr.com/" title="Blurr" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="http://dinewith.co/" title="Dine" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="http://dinewith.co/" title="Dine" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="https://www.newsteer.com/" title="Steer" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="https://www.attributionapp.com/" title="Attribution" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="http://yourblurr.com/" title="Blurr" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="http://dinewith.co/" title="Dine" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="http://dinewith.co/" title="Dine" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="https://www.newsteer.com/" title="Steer" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="https://www.attributionapp.com/" title="Attribution" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="http://yourblurr.com/" title="Blurr" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="http://dinewith.co/" title="Dine" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="http://dinewith.co/" title="Dine" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="https://www.newsteer.com/" title="Steer" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="https://www.attributionapp.com/" title="Attribution" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="http://yourblurr.com/" title="Blurr" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="http://dinewith.co/" title="Dine" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>

                    <div class="col-md-3 mb-8">
                        <div class="card card-lift--hover shadow border-0 p-3">
                            <a href="http://dinewith.co/" title="Dine" target="_blank" class="w-full relative overflow-hidden bg-gray-200 pt-16:9">
                                <img src="Image/tiem.png" class="card-img absolute top-0" style="height:100%;object-fit: cover;">
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>



    </main>

    <!-- 模态框（Modal） -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">上传图片</h4>
                </div>
                <div class="modal-body">
                    <div>
                        <input type="file" name="txt_file" id="txt_file" multiple class="file-loading" />
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="Upload()">提交保存</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>

    <footer class="footer">
        <div class="container">
            <div class="row row-grid align-items-center mb-5">

            </div>
            <hr>
            <div class="row align-items-center justify-content-md-between">
                <div class="col-md-6">
                    <div class="copyright">
                        © 2019 Bootstrap 优站精选
                    </div>
                </div>
                <div class="col-md-6">
                    <ul class="nav nav-footer justify-content-end">
                        <li class="nav-item">
                            <a href="https://www.youzhan.org/about/" class="nav-link">关于</a>
                        </li>
                        <li class="nav-item">
                            <a href="https://www.youzhan.org/guanggao/" class="nav-link">广告合作</a>
                        </li>
                        <li class="nav-item">
                            <a href="http://www.beian.miit.gov.cn/" class="nav-link" target="_blank">京ICP备15031610号-1</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <a id="dwonfile"></a>

    <script>

        var filesData = new FormData();

        function Upload() {

            console.log(filesData);

            $('#txt_file').fileinput('upload');

        }

        function DwonFile() {

            //var oReq = new XMLHttpRequest();
            //oReq.open("post", "http://localhost:53333/api/Picture/ReturnFile", true);
            //oReq.responseType = "blob";
            //oReq.onload = function (oEvent) {
            //    console.log(oEvent);
            //    var content = oReq.response;
            //    console.log(content)

            //    var elink = document.createElement('a');
            //    elink.download = "tiem.png";
            //    elink.style.display = 'none';
            //    var blob = new Blob([content]);
            //    elink.href = URL.createObjectURL(blob);

            //    document.body.appendChild(elink);
            //    elink.click();

            //    document.body.removeChild(elink);
            //};
            //oReq.send();

            BaseApi.ajax({
                url: "/api/Picture/ReturnFile",
                type: "post",
                contentType: false,
                xhrFields: { responseType: "blob" },
                success: function (res) {
                    console.log(res);

                    var elink = document.createElement('a');//创建一个a标签
                    elink.download = "tiem.png"; // 下载的文件名
                    elink.style.display = 'none';
                    var blob = new Blob([res]);//创建一个blob对象
                    elink.href = URL.createObjectURL(blob);//将blob对象生成一个url

                    document.body.appendChild(elink);//将a标签添加到html正文中
                    elink.click();//触发a标签下载

                    document.body.removeChild(elink);//将a标签从html正文中删除
                }
            })

            return;
            $.ajax({
                url: "http://localhost:53333/api/Picture/ReturnFile",
                type: "post",
                contentType: false,
                headers: { "ShiToken": "123132132153215" },
                xhrFields: { responseType: "blob" },
                success: function (res) {
                    console.log(res);

                    var elink = document.createElement('a');
                    elink.download = "tiem.png";
                    elink.style.display = 'none';
                    var blob = new Blob([res]);
                    elink.href = URL.createObjectURL(blob);

                    document.body.appendChild(elink);
                    elink.click();

                    document.body.removeChild(elink);
                }
            })
        }

        function GetFile() {


            BaseApi.ajax({
                url: "/api/Picture/GetPictrue",
                type: "get",
                contentType: false,
                success: function (res) {
                    console.log(res);
                }
            })

        }


        $(function () {
            //0.初始化fileinput
            var oFileInput = new FileInput();
            oFileInput.Init("txt_file", BaseApi.BaseUrl + "/api/Picture/PicUpload");
        });

        //初始化fileinput
        var FileInput = function () {
            var oFile = new Object();

            //初始化fileinput控件（第一次初始化）
            oFile.Init = function (ctrlName, uploadUrl) {
                var control = $('#' + ctrlName);
                //初始化上传控件的样式
                control.fileinput({
                    language: 'zh', //设置语言
                    uploadUrl: uploadUrl, //上传的地址
                    ajaxSettings: {
                        headers: { "ShiToken": "123132132153215" },
                    },
                    allowedFileExtensions: ['jpg', 'gif', 'png', 'jpeg'],//接收的文件后缀
                    showUpload: false, //是否显示上传按钮
                    showCaption: false,//是否显示标题
                    browseClass: "btn btn-primary", //按钮样式
                    autoReplace: true,
                    //dropZoneEnabled: false,//是否显示拖拽区域
                    //minImageWidth: 50, //图片的最小宽度
                    //minImageHeight: 50,//图片的最小高度
                    //maxImageWidth: 1000,//图片的最大宽度
                    //maxImageHeight: 1000,//图片的最大高度
                    //maxFileSize: 0,//单位为kb，如果为0表示不限制文件大小
                    //minFileCount: 0,
                    uploadAsync: false, //false 同步上传，后台用数组接收，true 异步上传，每次上传一个file,会调用多次接口
                    maxFileCount: 10, //表示允许同时上传的最大文件个数
                    enctype: 'multipart/form-data',
                    validateInitialCount: true,
                    layoutTemplates: {
                        actionUpload: ''//就是让文件上传中的文件去除上传按钮
                        //actionDelete: '',//去除删除按钮
                    },
                    error: "上传失败",
                    previewFileIcon: "<i class='glyphicon glyphicon-king'></i>",
                    msgFilesTooMany: "选择上传的文件数量({n}) 超过允许的最大数值{m}！"
                });

                //选择文件全部加载完成后执行
                $("#txt_file").on("filebatchselected", function (event, files) {
                    console.log(event);
                    console.log(files);
                    for (var i = 0; i < files.length; i++) {
                        console.log("A")
                        filesData.append("files", files[i]);
                    }
                });

                //导入文件上传完成之后的事件
                $("#txt_file").on("fileuploaded", function (event, data, previewId, index) {
                    //$("#myModal").modal("hide");
                    //console.log(data);
                    //var data = data.response.lstOrderImport;
                    //if (data == undefined) {
                    //    toastr.error('文件格式类型不正确');
                    //    return;
                    //}
                    ////1.初始化表格
                    //var oTable = new TableInit();
                    //oTable.Init(data);
                    //$("#div_startimport").show();
                });

                //批量上传完成之后执行（同步上传）
                $("#txt_file").on("filebatchuploadsuccess", function (event, data) {
                    console.log(event);
                    console.log(data);
                })
            }
            return oFile;
        };


    </script>

</body>
</html>